<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercice 5 (formulaire)</title>
    <style>
        .formulaire fieldset {
            background-color: rgb(253, 253, 122);
            transition: background-color 1s;

        }
    </style>
</head>

<body>
    <form action="" class="formulaire">

        <fieldset>
            <legend>Votre avis nous interesse</legend>

            <table>
                <tr>
                    <td>
                        <label for="genre">Civilité</label>
                    </td>

                    <td>

                        <input type="radio" name="genre" value="Madame">
                        <label for="Madame">Madame</label>

                        <input type="radio" name="genre" value="Monsieur">
                        <label for="Monsieur">Monsieur</label>

                    </td>
                </tr>

                <tr>
                    <td>
                        <label for="nomEtPrenom">Nom / Prénom</label>
                    </td>
                    <td>
                        <input type="text" name="nomEtPrenom">
                    </td>
                </tr>

                <tr>
                    <td>
                        <label for="adressePostal">Votre adresse postal</label>
                    </td>
                    <td>
                        <textarea type="text" name="adressePostal"></textarea>
                    </td>
                </tr>

                <tr>
                    <td>
                        <label for="noPostalEtLocalite">N° Postal / Localite</label>
                    </td>
                    <td>
                        <input type="text" name="noPostalEtLocalite" maxlength=5 pattern="[0-9]{5}">>
                        <input type="text" name="localite">
                    </td>

                </tr>
                <tr>
                    <td>
                        <label for="pays">Pays</label>
                    </td>
                    <td>
                        <select name="pays" id="pays">
                            <option value="Belgique">Belgique</option>
                            <option value="France">France</option>
                            <option value="Luxembourg">Luxembourg</option>
                            <option value="Suisse">Suisse</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td><label for="commentAvezVousConnuLeLycee">Comment avez-vous connu le lycée ?</label></td>
                    <td>
                        <select name="commentAvezVousConnuLeLycee" id="commentAvezVousConnuLeLycee">
                            <option value="presse">Presse</option>
                            <option value="salonInformation">Salon d'information</option>
                            <option value="journeePortesOuvertes">Journée portes ouvertes</option>
                            <option value="boucheAOreille">Bouche à oreille</option>
                        </select>
                </tr>
                <tr>
                    <td>
                        <label for="niveauScolaire">Quel est votre niveau scolaire ?</label>
                    </td>
                    <td>
                        <select name="niveauScolaire" id="niveauScolaire">
                            <option value="bacGeneral">Bac général</option>
                            <option value="bacTechnologique">Bac technologique</option>
                            <option value="bacTechnique">Bac technique</option>
                            <option value="autre">Autre</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        <label for="ideeDeVotreNiveau">
                            Quelle est votre idée de votre niveau ?
                        </label>
                    </td>
                    <td>
                        <input type="range" name="ideeDeVotreNiveau" id="ideeDeVotreNiveau" min="0" max="20">
                    </td>

                </tr>
                <tr>
                    <td>
                        <label for="dateDeNaissance">
                            Date de naissance
                        </label>
                    </td>
                    <td>
                        <input type="date" name="dateDeNaissance" id="dateDeNaissance">
                    </td>
                </tr>

                <tr>
                    <td>
                        <label for="heureDeNaissance">
                            Heure de naissance
                        </label>
                    </td>
                    <td>
                        <input type="time" name="heureDeNaissance" id="heureDeNaissance">
                    </td>
                </tr>

                <tr>
                    <td>
                        <label for="boutonMagique">Bouton Magique</label>
                    </td>
                    <td>
                        <button type="button" id="magique">C'est Magique</button>
                    </td>
                </tr>

                <tr>
                    <td>

                        <button type="submit">
                            Soumettre
                        </button>
                        <button type="reset">
                            Annuler
                        </button>
                    </td>
                </tr>
            </table>






        </fieldset>

    </form>

    <script>
        var btn = document.getElementById("magique")
        btn.addEventListener("click", function () {
            btn.disabled = true;

            document.querySelectorAll("fieldset")[0].style.backgroundColor = randomColor();
            let boucle = setInterval(function () {
                document.querySelectorAll("fieldset")[0].style.backgroundColor = randomColor();
            }, 505);
            setTimeout(function () {
                clearInterval(boucle);
                setTimeout(function () {
                    btn.disabled = false;
                }, 500);
            }, 10000);
        })
        function randomColor() {
            var bgColor = "#";
            for (var i = 0; i < 6; i++) {
                bgColor += Math.floor(Math.random() * 10);
            }
            // if color is too dark, make it lighter
            if (parseInt(bgColor.slice(1), 16) < 0x555555) {
                setTimeout(() => {
                    document.body.style.color = "white";
                }, 500)
            } else {
                setTimeout(() => {
                    document.body.style.color = "black";
                }, 500)
            }
            return bgColor;

        }
    </script>
</body>

</html>